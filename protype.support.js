"use strict";

/*;
	@module-license:
		The MIT License (MIT)
		@mit-license

		Copyright (@c) 2017 Richeve Siodina Bebedor
		@email: richeve.bebedor@gmail.com

		Permission is hereby granted, free of charge, to any person obtaining a copy
		of this software and associated documentation files (the "Software"), to deal
		in the Software without restriction, including without limitation the rights
		to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
		copies of the Software, and to permit persons to whom the Software is
		furnished to do so, subject to the following conditions:

		The above copyright notice and this permission notice shall be included in all
		copies or substantial portions of the Software.

		THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
		IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
		FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
		AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
		LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
		OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
		SOFTWARE.
	@end-module-license

	@module-configuration:
		{
			"package": "protype",
			"path": "protype/protype.js",
			"file": "protype.js",
			"module": "protype",
			"author": "Richeve S. Bebedor",
			"contributors": [
				"John Lenon Maghanoy <johnlenonmaghanoy@gmail.com>"
			],
			"eMail": "richeve.bebedor@gmail.com",
			"repository": "https://github.com/volkovasystems/protype.git",
			"test": "protype-test.js",
			"global": true
		}
	@end-module-configuration

	@module-documentation:
		Determine type of property.

		Passing multiple type will do try to match any one of it.
	@end-module-documentation

	@include:
		{
			"cemento": "cemento",
			"harden": "harden"
		}
	@end-include
*/

var _typeof2 = require("babel-runtime/helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

var _from = require("babel-runtime/core-js/array/from");

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var cemento = require("cemento");
var harden = require("harden");

//: @support-module:
//: @reference: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray
Array.isArray || (Array.isArray = function (r) {
	return "[object Array]" === Object.prototype.toString.call(r);
});
//: @end-support-module

//: @support-module:
//: @reference: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/from
_from2.default || (Array.from = function () {
	var r = Object.prototype.toString,
	    n = function n(_n) {
		return "function" == typeof _n || "[object Function]" === r.call(_n);
	},
	    t = function t(r) {
		var n = Number(r);
		return isNaN(n) ? 0 : 0 !== n && isFinite(n) ? (n > 0 ? 1 : -1) * Math.floor(Math.abs(n)) : n;
	},
	    e = Math.pow(2, 53) - 1,
	    o = function o(r) {
		var n = t(r);return Math.min(Math.max(n, 0), e);
	};
	return function (r) {
		var t = this,
		    e = Object(r);
		if (null == r) throw new TypeError("Array.from requires an array-like object - not null or undefined");
		var a,
		    u = arguments.length > 1 ? arguments[1] : void 0;if ("undefined" != typeof u) {
			if (!n(u)) throw new TypeError("Array.from: when provided, the second argument must be a function");
			arguments.length > 2 && (a = arguments[2]);
		}for (var i, f = o(e.length), c = n(t) ? Object(new t(f)) : new Array(f), h = 0; f > h;) {
			i = e[h], u ? c[h] = "undefined" == typeof a ? u(i, h) : u.call(a, i, h) : c[h] = i, h += 1;
		}return c.length = f, c;
	};
}());
//: @end-support-module

//; @support-module:
//: @reference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some
Array.prototype.some = Array.prototype.some || function (evaluator, thisArg) {
	"use strict";

	if (!this) throw new TypeError("Array.prototype.some called on null or undefined");
	if ("function" != typeof evaluator) {
		if ("string" != typeof evaluator) throw new TypeError();
		if (!(evaluator = eval(evaluator))) throw new TypeError();
	}var i;
	if (void 0 === thisArg) {
		for (i in this) {
			if (evaluator(this[i], i, this)) return !0;
		}return !1;
	}
	for (i in this) {
		if (evaluator.call(thisArg, this[i], i, this)) return !0;
	}return !1;
};
//; @end-support-module

//: @support-module:
//: @reference: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce
Array.prototype.reduce || (Array.prototype.reduce = function (r) {
	"use strict";

	if (null == this) throw new TypeError("Array.prototype.reduce called on null or undefined");
	if ("function" != typeof r) throw new TypeError(r + " is not a function");
	var e,
	    t = Object(this),
	    n = t.length >>> 0,
	    o = 0;if (2 == arguments.length) e = arguments[1];else {
		for (; n > o && !(o in t);) {
			o++;
		}if (o >= n) throw new TypeError("Reduce of empty array with no initial value");
		e = t[o++];
	}for (; n > o; o++) {
		o in t && (e = r(e, t[o], o, t));
	}return e;
});
//: @end-support-module

harden("STRING", "string");
harden("NUMBER", "number");
harden("BOOLEAN", "boolean");
harden("FUNCTION", "function");
harden("OBJECT", "object");
harden("UNDEFINED", "undefined");
harden("SYMBOL", "symbol");

var protype = function protype(property, type) {
	var _arguments = arguments;

	/*;
 	@meta-configuration:
 		{
 			"property:required": "*",
 			"type": [
 				"string",
 				STRING,
 				NUMBER,
 				BOOLEAN,
 				FUNCTION,
 				OBJECT,
 				UNDEFINED,
 				SYMBOL,
 				"...",
 				Array
 			]
 		}
 	@end-meta-configuration
 */

	if (type && typeof type == "string" && type != STRING && type != NUMBER && type != BOOLEAN && type != FUNCTION && type != OBJECT && type != UNDEFINED && type != SYMBOL) {
		throw new Error("invalid type");
	}

	if (type) {
		var _ret = function () {
			var flatten = function flatten(current) {
				return current.reduce(function (previous, current) {
					var element = Array.isArray(current) ? flatten(current) : current;

					return previous.concat(element);
				}, []);
			};

			return {
				v: (0, _from2.default)(_arguments).splice(1).reduce(function (previous, current) {
					var element = Array.isArray(current) ? flatten(current) : current;

					return previous.concat(element);
				}, []).filter(function (type) {
					return (typeof type === "undefined" ? "undefined" : (0, _typeof3.default)(type)) == STRING;
				}).filter(function (type) {
					return type == STRING || type == NUMBER || type == BOOLEAN || type == FUNCTION || type == OBJECT || type == UNDEFINED || type == SYMBOL;
				}).some(function (type) {
					return (typeof property === "undefined" ? "undefined" : (0, _typeof3.default)(property)) == type;
				})
			};
		}();

		if ((typeof _ret === "undefined" ? "undefined" : (0, _typeof3.default)(_ret)) === "object") return _ret.v;
	} else {
		return cemento({
			"STRING": protype(property, STRING),
			"NUMBER": protype(property, NUMBER),
			"BOOLEAN": protype(property, BOOLEAN),
			"FUNCTION": protype(property, FUNCTION),
			"OBJECT": protype(property, OBJECT),
			"UNDEFINED": protype(property, UNDEFINED),
			"SYMBOL": protype(property, SYMBOL),
			"type": typeof property === "undefined" ? "undefined" : (0, _typeof3.default)(property)
		});
	}
};

module.exports = protype;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3R5cGUuanMiXSwibmFtZXMiOlsiY2VtZW50byIsInJlcXVpcmUiLCJoYXJkZW4iLCJBcnJheSIsImlzQXJyYXkiLCJyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiZnJvbSIsIm4iLCJ0IiwiTnVtYmVyIiwiaXNOYU4iLCJpc0Zpbml0ZSIsIk1hdGgiLCJmbG9vciIsImFicyIsImUiLCJwb3ciLCJvIiwibWluIiwibWF4IiwiVHlwZUVycm9yIiwiYSIsInUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJpIiwiZiIsImMiLCJoIiwic29tZSIsImV2YWx1YXRvciIsInRoaXNBcmciLCJldmFsIiwicmVkdWNlIiwicHJvdHlwZSIsInByb3BlcnR5IiwidHlwZSIsIlNUUklORyIsIk5VTUJFUiIsIkJPT0xFQU4iLCJGVU5DVElPTiIsIk9CSkVDVCIsIlVOREVGSU5FRCIsIlNZTUJPTCIsIkVycm9yIiwiZmxhdHRlbiIsImN1cnJlbnQiLCJwcmV2aW91cyIsImVsZW1lbnQiLCJjb25jYXQiLCJzcGxpY2UiLCJmaWx0ZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwREEsSUFBTUEsVUFBVUMsUUFBUyxTQUFULENBQWhCO0FBQ0EsSUFBTUMsU0FBU0QsUUFBUyxRQUFULENBQWY7O0FBRUE7QUFDQztBQUNBRSxNQUFNQyxPQUFOLEtBQWdCRCxNQUFNQyxPQUFOLEdBQWMsVUFBU0MsQ0FBVCxFQUFXO0FBQUMsUUFBTSxxQkFBbUJDLE9BQU9DLFNBQVAsQ0FBaUJDLFFBQWpCLENBQTBCQyxJQUExQixDQUErQkosQ0FBL0IsQ0FBekI7QUFBMkQsQ0FBckc7QUFDRDs7QUFFQTtBQUNDO0FBQ0EsbUJBQWFGLE1BQU1PLElBQU4sR0FBVyxZQUFVO0FBQUMsS0FBSUwsSUFBRUMsT0FB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T0FBbkIsQ0FISTtBQUlmLGVBQVlMLFFBQVNDLFFBQVQsRUFBbUJLLFFBQW5CLENBSkc7QUFLZixhQUFVTixRQUFTQyxRQUFULEVBQW1CTSxNQUFuQixDQUxLO0FBTWYsZ0JBQWFQLFFBQVNDLFFBQVQsRUFBbUJPLFNBQW5CLENBTkU7QUFPZixhQUFVUixRQUFTQyxRQUFULEVBQW1CUSxNQUFuQixDQVBLO0FBUWYsa0JBQWlCUixRQUFqQix1REFBaUJBLFFBQWpCO0FBUmUsR0FBVCxDQUFQO0FBVUE7QUFDRCxDQXpFRDs7QUEyRUFpQixPQUFPQyxPQUFQLEdBQWlCbkIsT0FBakIiLCJmaWxlIjoicHJvdHlwZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKjtcblx0QG1vZHVsZS1saWNlbnNlOlxuXHRcdFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXHRcdEBtaXQtbGljZW5zZVxuXG5cdFx0Q29weXJpZ2h0IChAYykgMjAxNyBSaWNoZXZlIFNpb2RpbmEgQmViZWRvclxuXHRcdEBlbWFpbDogcmljaGV2ZS5iZWJlZG9yQGdtYWlsLmNvbVxuXG5cdFx0UGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuXHRcdG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcblx0XHRpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG5cdFx0dG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuXHRcdGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuXHRcdGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblx0XHRUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcblx0XHRjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5cdFx0VEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuXHRcdElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuXHRcdEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuXHRcdEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcblx0XHRMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuXHRcdE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG5cdFx0U09GVFdBUkUuXG5cdEBlbmQtbW9kdWxlLWxpY2Vuc2VcblxuXHRAbW9kdWxlLWNvbmZpZ3VyYXRpb246XG5cdFx0e1xuXHRcdFx0XCJwYWNrYWdlXCI6IFwicHJvdHlwZVwiLFxuXHRcdFx0XCJwYXRoXCI6IFwicHJvdHlwZS9wcm90eXBlLmpzXCIsXG5cdFx0XHRcImZpbGVcIjogXCJwcm90eXBlLmpzXCIsXG5cdFx0XHRcIm1vZHVsZVwiOiBcInByb3R5cGVcIixcblx0XHRcdFwiYXV0aG9yXCI6IFwiUmljaGV2ZSBTLiBCZWJlZG9yXCIsXG5cdFx0XHRcImNvbnRyaWJ1dG9yc1wiOiBbXG5cdFx0XHRcdFwiSm9obiBMZW5vbiBNYWdoYW5veSA8am9obmxlbm9ubWFnaGFub3lAZ21haWwuY29tPlwiXG5cdFx0XHRdLFxuXHRcdFx0XCJlTWFpbFwiOiBcInJpY2hldmUuYmViZWRvckBnbWFpbC5jb21cIixcblx0XHRcdFwicmVwb3NpdG9yeVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS92b2xrb3Zhc3lzdGVtcy9wcm90eXBlLmdpdFwiLFxuXHRcdFx0XCJ0ZXN0XCI6IFwicHJvdHlwZS10ZXN0LmpzXCIsXG5cdFx0XHRcImdsb2JhbFwiOiB0cnVlXG5cdFx0fVxuXHRAZW5kLW1vZHVsZS1jb25maWd1cmF0aW9uXG5cblx0QG1vZHVsZS1kb2N1bWVudGF0aW9uOlxuXHRcdERldGVybWluZSB0eXBlIG9mIHByb3BlcnR5LlxuXG5cdFx0UGFzc2luZyBtdWx0aXBsZSB0eXBlIHdpbGwgZG8gdHJ5IHRvIG1hdGNoIGFueSBvbmUgb2YgaXQuXG5cdEBlbmQtbW9kdWxlLWRvY3VtZW50YXRpb25cblxuXHRAaW5jbHVkZTpcblx0XHR7XG5cdFx0XHRcImNlbWVudG9cIjogXCJjZW1lbnRvXCIsXG5cdFx0XHRcImhhcmRlblwiOiBcImhhcmRlblwiXG5cdFx0fVxuXHRAZW5kLWluY2x1ZGVcbiovXG5cbmNvbnN0IGNlbWVudG8gPSByZXF1aXJlKCBcImNlbWVudG9cIiApO1xuY29uc3QgaGFyZGVuID0gcmVxdWlyZSggXCJoYXJkZW5cIiApO1xuXG4vLzogQHN1cHBvcnQtbW9kdWxlOlxuXHQvLzogQHJlZmVyZW5jZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheVxuXHRBcnJheS5pc0FycmF5fHwoQXJyYXkuaXNBcnJheT1mdW5jdGlvbihyKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocil9KTtcbi8vOiBAZW5kLXN1cHBvcnQtbW9kdWxlXG5cbi8vOiBAc3VwcG9ydC1tb2R1bGU6XG5cdC8vOiBAcmVmZXJlbmNlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9mcm9tXG5cdEFycmF5LmZyb218fChBcnJheS5mcm9tPWZ1bmN0aW9uKCl7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxuPWZ1bmN0aW9uKG4pe1xuXHRyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBufHxcIltvYmplY3QgRnVuY3Rpb25dXCI9PT1yLmNhbGwobil9LHQ9ZnVuY3Rpb24ocil7dmFyIG49TnVtYmVyKHIpO1xuXHRyZXR1cm4gaXNOYU4obik/MDowIT09biYmaXNGaW5pdGUobik/KG4+MD8xOi0xKSpNYXRoLmZsb29yKE1hdGguYWJzKG4pKTpufSxcblx0ZT1NYXRoLnBvdygyLDUzKS0xLG89ZnVuY3Rpb24ocil7dmFyIG49dChyKTtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwwKSxlKX07XG5cdHJldHVybiBmdW5jdGlvbihyKXt2YXIgdD10aGlzLGU9T2JqZWN0KHIpO1xuXHRpZihudWxsPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheS5mcm9tIHJlcXVpcmVzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IC0gbm90IG51bGwgb3IgdW5kZWZpbmVkXCIpO1xuXHR2YXIgYSx1PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB1KXtcblx0aWYoIW4odSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5LmZyb206IHdoZW4gcHJvdmlkZWQsIHRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuXHRhcmd1bWVudHMubGVuZ3RoPjImJihhPWFyZ3VtZW50c1syXSl9Zm9yKHZhciBpLGY9byhlLmxlbmd0aCksYz1uKHQpP1xuXHRPYmplY3QobmV3IHQoZikpOm5ldyBBcnJheShmKSxoPTA7Zj5oOylpPWVbaF0sXG5cdHU/Y1toXT1cInVuZGVmaW5lZFwiPT10eXBlb2YgYT91KGksaCk6dS5jYWxsKGEsaSxoKTpjW2hdPWksaCs9MTtyZXR1cm4gYy5sZW5ndGg9ZixjfX0oKSk7XG4vLzogQGVuZC1zdXBwb3J0LW1vZHVsZVxuXG4vLzsgQHN1cHBvcnQtbW9kdWxlOlxuXHQvLzogQHJlZmVyZW5jZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc29tZVxuXHRBcnJheS5wcm90b3R5cGUuc29tZT1BcnJheS5wcm90b3R5cGUuc29tZXx8ZnVuY3Rpb24oZXZhbHVhdG9yLHRoaXNBcmcpe1widXNlIHN0cmljdFwiO1xuXHRpZighdGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkucHJvdG90eXBlLnNvbWUgY2FsbGVkIG9uIG51bGwgb3IgdW5kZWZpbmVkXCIpO1xuXHRpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBldmFsdWF0b3Ipe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBldmFsdWF0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcjtcblx0aWYoIShldmFsdWF0b3I9ZXZhbChldmFsdWF0b3IpKSl0aHJvdyBuZXcgVHlwZUVycm9yfXZhciBpO1xuXHRpZih2b2lkIDA9PT10aGlzQXJnKXtmb3IoaSBpbiB0aGlzKWlmKGV2YWx1YXRvcih0aGlzW2ldLGksdGhpcykpcmV0dXJuITA7cmV0dXJuITF9XG5cdGZvcihpIGluIHRoaXMpaWYoZXZhbHVhdG9yLmNhbGwodGhpc0FyZyx0aGlzW2ldLGksdGhpcykpcmV0dXJuITA7cmV0dXJuITF9O1xuLy87IEBlbmQtc3VwcG9ydC1tb2R1bGVcblxuLy86IEBzdXBwb3J0LW1vZHVsZTpcblx0Ly86IEByZWZlcmVuY2U6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3JlZHVjZVxuXHRBcnJheS5wcm90b3R5cGUucmVkdWNlfHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihyKXtcInVzZSBzdHJpY3RcIjtcblx0aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWRcIik7XG5cdGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihyK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuXHR2YXIgZSx0PU9iamVjdCh0aGlzKSxuPXQubGVuZ3RoPj4+MCxvPTA7aWYoMj09YXJndW1lbnRzLmxlbmd0aCllPWFyZ3VtZW50c1sxXTtcblx0ZWxzZXtmb3IoO24+byYmIShvIGluIHQpOylvKys7aWYobz49bil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTtcblx0ZT10W28rK119Zm9yKDtuPm87bysrKW8gaW4gdCYmKGU9cihlLHRbb10sbyx0KSk7cmV0dXJuIGV9KTtcbi8vOiBAZW5kLXN1cHBvcnQtbW9kdWxlXG5cbmhhcmRlbiggXCJTVFJJTkdcIiwgXCJzdHJpbmdcIiApO1xuaGFyZGVuKCBcIk5VTUJFUlwiLCBcIm51bWJlclwiICk7XG5oYXJkZW4oIFwiQk9PTEVBTlwiLCBcImJvb2xlYW5cIiApO1xuaGFyZGVuKCBcIkZVTkNUSU9OXCIsIFwiZnVuY3Rpb25cIiApO1xuaGFyZGVuKCBcIk9CSkVDVFwiLCBcIm9iamVjdFwiICk7XG5oYXJkZW4oIFwiVU5ERUZJTkVEXCIsIFwidW5kZWZpbmVkXCIgKTtcbmhhcmRlbiggXCJTWU1CT0xcIiwgXCJzeW1ib2xcIiApO1xuXG5jb25zdCBwcm90eXBlID0gZnVuY3Rpb24gcHJvdHlwZSggcHJvcGVydHksIHR5cGUgKXtcblx0Lyo7XG5cdFx0QG1ldGEtY29uZmlndXJhdGlvbjpcblx0XHRcdHtcblx0XHRcdFx0XCJwcm9wZXJ0eTpyZXF1aXJlZFwiOiBcIipcIixcblx0XHRcdFx0XCJ0eXBlXCI6IFtcblx0XHRcdFx0XHRcInN0cmluZ1wiLFxuXHRcdFx0XHRcdFNUUklORyxcblx0XHRcdFx0XHROVU1CRVIsXG5cdFx0XHRcdFx0Qk9PTEVBTixcblx0XHRcdFx0XHRGVU5DVElPTixcblx0XHRcdFx0XHRPQkpFQ1QsXG5cdFx0XHRcdFx0VU5ERUZJTkVELFxuXHRcdFx0XHRcdFNZTUJPTCxcblx0XHRcdFx0XHRcIi4uLlwiLFxuXHRcdFx0XHRcdEFycmF5XG5cdFx0XHRcdF1cblx0XHRcdH1cblx0XHRAZW5kLW1ldGEtY29uZmlndXJhdGlvblxuXHQqL1xuXG5cdGlmKCB0eXBlICYmXG5cdFx0dHlwZW9mIHR5cGUgPT0gXCJzdHJpbmdcIiAmJlxuXHRcdHR5cGUgIT0gU1RSSU5HICYmXG5cdFx0dHlwZSAhPSBOVU1CRVIgJiZcblx0XHR0eXBlICE9IEJPT0xFQU4gJiZcblx0XHR0eXBlICE9IEZVTkNUSU9OICYmXG5cdFx0dHlwZSAhPSBPQkpFQ1QgJiZcblx0XHR0eXBlICE9IFVOREVGSU5FRCAmJlxuXHRcdHR5cGUgIT0gU1lNQk9MIClcblx0e1xuXHRcdHRocm93IG5ldyBFcnJvciggXCJpbnZhbGlkIHR5cGVcIiApO1xuXHR9XG5cblx0aWYoIHR5cGUgKXtcblx0XHRsZXQgZmxhdHRlbiA9IGZ1bmN0aW9uIGZsYXR0ZW4oIGN1cnJlbnQgKXtcblx0XHRcdHJldHVybiBjdXJyZW50LnJlZHVjZSggKCBwcmV2aW91cywgY3VycmVudCApID0+IHtcblx0XHRcdFx0bGV0IGVsZW1lbnQgPSBBcnJheS5pc0FycmF5KCBjdXJyZW50ICk/IGZsYXR0ZW4oIGN1cnJlbnQgKSA6IGN1cnJlbnQ7XG5cblx0XHRcdFx0cmV0dXJuIHByZXZpb3VzLmNvbmNhdCggZWxlbWVudCApO1xuXHRcdFx0fSwgWyBdICk7XG5cdFx0fTtcblxuXHRcdHJldHVybiBBcnJheS5mcm9tKCBhcmd1bWVudHMgKS5zcGxpY2UoIDEgKVxuXHRcdFx0LnJlZHVjZSggKCBwcmV2aW91cywgY3VycmVudCApID0+IHtcblx0XHRcdFx0bGV0IGVsZW1lbnQgPSBBcnJheS5pc0FycmF5KCBjdXJyZW50ICk/IGZsYXR0ZW4oIGN1cnJlbnQgKSA6IGN1cnJlbnQ7XG5cblx0XHRcdFx0cmV0dXJuIHByZXZpb3VzLmNvbmNhdCggZWxlbWVudCApO1xuXHRcdFx0fSwgWyBdIClcblx0XHRcdC5maWx0ZXIoICggdHlwZSApID0+IHsgcmV0dXJuICggdHlwZW9mIHR5cGUgPT0gU1RSSU5HICk7IH0gKVxuXHRcdFx0LmZpbHRlciggKCB0eXBlICkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gKCB0eXBlID09IFNUUklORyB8fFxuXHRcdFx0XHRcdHR5cGUgPT0gTlVNQkVSIHx8XG5cdFx0XHRcdFx0dHlwZSA9PSBCT09MRUFOIHx8XG5cdFx0XHRcdFx0dHlwZSA9PSBGVU5DVElPTiB8fFxuXHRcdFx0XHRcdHR5cGUgPT0gT0JKRUNUIHx8XG5cdFx0XHRcdFx0dHlwZSA9PSBVTkRFRklORUQgfHxcblx0XHRcdFx0XHR0eXBlID09IFNZTUJPTCApO1xuXHRcdFx0fSApXG5cdFx0XHQuc29tZSggKCB0eXBlICkgPT4geyByZXR1cm4gKCB0eXBlb2YgcHJvcGVydHkgPT0gdHlwZSApOyB9ICk7XG5cblx0fWVsc2V7XG5cdFx0cmV0dXJuIGNlbWVudG8oIHtcblx0XHRcdFwiU1RSSU5HXCI6IHByb3R5cGUoIHByb3BlcnR5LCBTVFJJTkcgKSxcblx0XHRcdFwiTlVNQkVSXCI6IHByb3R5cGUoIHByb3BlcnR5LCBOVU1CRVIgKSxcblx0XHRcdFwiQk9PTEVBTlwiOiBwcm90eXBlKCBwcm9wZXJ0eSwgQk9PTEVBTiApLFxuXHRcdFx0XCJGVU5DVElPTlwiOiBwcm90eXBlKCBwcm9wZXJ0eSwgRlVOQ1RJT04gKSxcblx0XHRcdFwiT0JKRUNUXCI6IHByb3R5cGUoIHByb3BlcnR5LCBPQkpFQ1QgKSxcblx0XHRcdFwiVU5ERUZJTkVEXCI6IHByb3R5cGUoIHByb3BlcnR5LCBVTkRFRklORUQgKSxcblx0XHRcdFwiU1lNQk9MXCI6IHByb3R5cGUoIHByb3BlcnR5LCBTWU1CT0wgKSxcblx0XHRcdFwidHlwZVwiOiAoIHR5cGVvZiBwcm9wZXJ0eSApXG5cdFx0fSApO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHByb3R5cGU7XG4iXX0=
